{"id":"00000000-0000-0000-0000-000000000000","revision":0,"last_node_id":6,"last_link_id":0,"nodes":[{"id":1,"type":"DownloadAndLoadSAM2Model","pos":[100,100],"size":[270,130],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"segmentor","name":"segmentor","type":"COMBO","widget":{"name":"segmentor"},"link":null},{"localized_name":"device","name":"device","type":"COMBO","widget":{"name":"device"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null}],"outputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","links":null}],"properties":{"Node name for S&R":"DownloadAndLoadSAM2Model"},"widgets_values":["sam2_hiera_base_plus.safetensors","single_image","cuda","fp16"]},{"id":2,"type":"Sam2Segmentation","pos":[500,100],"size":[277.015625,182],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","link":null},{"localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"coordinates_positive","name":"coordinates_positive","shape":7,"type":"STRING","link":null},{"localized_name":"coordinates_negative","name":"coordinates_negative","shape":7,"type":"STRING","link":null},{"localized_name":"bboxes","name":"bboxes","shape":7,"type":"BBOX","link":null},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"individual_objects","name":"individual_objects","shape":7,"type":"BOOLEAN","widget":{"name":"individual_objects"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"Node name for S&R":"Sam2Segmentation"},"widgets_values":[false,false]},{"id":3,"type":"Florence2toCoordinates","pos":[900,100],"size":[270,102],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"data","name":"data","type":"JSON","link":null},{"localized_name":"index","name":"index","type":"STRING","widget":{"name":"index"},"link":null},{"localized_name":"batch","name":"batch","type":"BOOLEAN","widget":{"name":"batch"},"link":null}],"outputs":[{"localized_name":"center_coordinates","name":"center_coordinates","type":"STRING","links":null},{"localized_name":"bboxes","name":"bboxes","type":"BBOX","links":null}],"properties":{"Node name for S&R":"Florence2toCoordinates"},"widgets_values":["0",false]},{"id":4,"type":"Sam2AutoSegmentation","pos":[1300,100],"size":[348.740234375,410],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","link":null},{"localized_name":"image","name":"image","type":"IMAGE","link":null},{"localized_name":"points_per_side","name":"points_per_side","type":"INT","widget":{"name":"points_per_side"},"link":null},{"localized_name":"points_per_batch","name":"points_per_batch","type":"INT","widget":{"name":"points_per_batch"},"link":null},{"localized_name":"pred_iou_thresh","name":"pred_iou_thresh","type":"FLOAT","widget":{"name":"pred_iou_thresh"},"link":null},{"localized_name":"stability_score_thresh","name":"stability_score_thresh","type":"FLOAT","widget":{"name":"stability_score_thresh"},"link":null},{"localized_name":"stability_score_offset","name":"stability_score_offset","type":"FLOAT","widget":{"name":"stability_score_offset"},"link":null},{"localized_name":"mask_threshold","name":"mask_threshold","type":"FLOAT","widget":{"name":"mask_threshold"},"link":null},{"localized_name":"crop_n_layers","name":"crop_n_layers","type":"INT","widget":{"name":"crop_n_layers"},"link":null},{"localized_name":"box_nms_thresh","name":"box_nms_thresh","type":"FLOAT","widget":{"name":"box_nms_thresh"},"link":null},{"localized_name":"crop_nms_thresh","name":"crop_nms_thresh","type":"FLOAT","widget":{"name":"crop_nms_thresh"},"link":null},{"localized_name":"crop_overlap_ratio","name":"crop_overlap_ratio","type":"FLOAT","widget":{"name":"crop_overlap_ratio"},"link":null},{"localized_name":"crop_n_points_downscale_factor","name":"crop_n_points_downscale_factor","type":"INT","widget":{"name":"crop_n_points_downscale_factor"},"link":null},{"localized_name":"min_mask_region_area","name":"min_mask_region_area","type":"FLOAT","widget":{"name":"min_mask_region_area"},"link":null},{"localized_name":"use_m2m","name":"use_m2m","type":"BOOLEAN","widget":{"name":"use_m2m"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"segmented_image","name":"segmented_image","type":"IMAGE","links":null},{"localized_name":"bbox","name":"bbox","type":"BBOX","links":null}],"properties":{"Node name for S&R":"Sam2AutoSegmentation"},"widgets_values":[32,64,0.8,0.95,1,0,0,0.7,0.7,0.34,1,0,false,true]},{"id":5,"type":"Sam2VideoSegmentationAddPoints","pos":[1700,100],"size":[334.8580078125,162],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","link":null},{"localized_name":"coordinates_positive","name":"coordinates_positive","type":"STRING","link":null},{"localized_name":"image","name":"image","shape":7,"type":"IMAGE","link":null},{"localized_name":"coordinates_negative","name":"coordinates_negative","shape":7,"type":"STRING","link":null},{"localized_name":"prev_inference_state","name":"prev_inference_state","shape":7,"type":"SAM2INFERENCESTATE","link":null},{"localized_name":"frame_index","name":"frame_index","type":"INT","widget":{"name":"frame_index"},"link":null},{"localized_name":"object_index","name":"object_index","type":"INT","widget":{"name":"object_index"},"link":null}],"outputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","links":null},{"localized_name":"inference_state","name":"inference_state","type":"SAM2INFERENCESTATE","links":null}],"properties":{"Node name for S&R":"Sam2VideoSegmentationAddPoints"},"widgets_values":[0,0]},{"id":6,"type":"Sam2VideoSegmentation","pos":[100,400],"size":[277.015625,78],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"sam2_model","name":"sam2_model","type":"SAM2MODEL","link":null},{"localized_name":"inference_state","name":"inference_state","type":"SAM2INFERENCESTATE","link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":null}],"properties":{"Node name for S&R":"Sam2VideoSegmentation"},"widgets_values":[true]}],"links":[],"groups":[],"config":{},"extra":{"ds":{"scale":0.695041066018644,"offset":[631.1098652823737,731.6908406027279]}},"version":0.4}